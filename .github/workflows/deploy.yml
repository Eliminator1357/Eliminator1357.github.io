name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main # Or your default branch like 'master'

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      - name: Inject Firebase API Key
        # This step uses 'sed' to find and replace the placeholder in your JS file.
        # Ensure the path 'your-script-file.js' is correct for your project.
        # The API key is enclosed in double quotes to make it a valid JS string.
        run: |
          sed -i "s|YOUR_FIREBASE_API_KEY_PLACEHOLDER|${{ secrets.FIREBASE_API_KEY }}|g" main.js